@using PagedList.Core.Mvc
@model PagedList.Core.IPagedList<App.Model.Voucher>
@{
    int CurrentPage = ViewBag.CurrentPage;
    ViewData["Title"] = "List Voucher" + CurrentPage;
}


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <script language="JavaScript" src="https://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script language="JavaScript" src="https://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"
        type="text/javascript"></script>
    <script language="JavaScript"
        src="https://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.js"
        type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css"
        href="http://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.css">


    <style>
        .pagination>li {
            display: inline;
            padding: 0px !important;
            margin: 0px !important;
            border: none !important;
        }

        .modal-backdrop {
            z-index: -1 !important;
        }

        /*
Fix to show in full screen demo
*/
        iframe {
            height: 700px !important;
        }

        .btn {
            display: inline-block;
            padding: 6px 12px !important;
            margin-bottom: 0;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857143;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -ms-touch-action: manipulation;
            touch-action: manipulation;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-image: none;
            border: 1px solid transparent;
            border-radius: 4px;
        }

        .btn-primary {
            color: #fff !important;
            background: #428bca !important;
            border-color: #357ebd !important;
            box-shadow: none !important;
        }

        .btn-danger {
            color: #fff !important;
            background: #d9534f !important;
            border-color: #d9534f !important;
            box-shadow: none !important;
        }

        .badge-success {
            background-color: #28a745;
            /* Màu xanh lá cây */
        }

        @*.badge-danger{background-color:#dc3545;/*Màuđỏ*/}*@
    </style>


</head>

<body>



    <div class="container">
        @* <div class="row">
        <h2 class="temp01 text-center">Bootstrap styling for Datatable</h2>
        </div> *@
        <div class="row">
            <div class="col-md-12">
                <a class="btn btn-success" asp-action="Create"><i class="fa fa-plus" aria-hidden="true"></i> Create new
                    voucher</a>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-12">
                <table id="datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PromotionCode</th>
                            <th>PromotionName</th>
                            <th>DiscountAmount</th>
                            <th>MaxValue</th>
                            <th>MinValue</th>
                            <th>Quantity</th>
                            <th>Used Time</th>
                            <th>UsageStatus</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            if (@item.DeleteStatus == false)
                            {
                                <tr>
                                    <td>@item.VoucherId</td>
                                    <td>@item.PromotionCode</td>
                                    <td>@item.PromotionName</td>
                                    @if (@item.DiscountType == 1)
                                    {
                                        <td>@item.DiscountAmount %</td>
                                    }
                                    else
                                    {
                                        <td>@item.DiscountAmount đ</td>
                                    }
                                    <td>@item.MaxiValue</td>
                                    <td>@item.MinValue</td>
                                    <td>@item.Quantity</td>
                                    <td>
                                        <p>@item.StartDate</p>
                                        -
                                        <p>@item.EndDate</p>
                                    </td>
                                    <td>
                                        @{
                                            if (@item.UsageStatus == 0 || @item.Quantity == 0)
                                            {
                                                <div class="col text-center">
                                                    <span class="badge badge-pill badge-danger">Disable</span>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="col text-center">
                                                    <span class="badge badge-pill badge-success">Enabled</span>
                                                </div>
                                            }
                                        }
                                    </td>

                                    <td>
                                        @* <p data-placement="top" data-toggle="tooltip" title="Edit">
                                <a
                                asp-action="Edit" asp-route-id=@item.VoucherId class="btn btn-primary btn-xs"
                                data-title="Edit" data-toggle="modal"
                                data-target="#edit"><span class="glyphicon glyphicon-pencil"></span>
                                </a>
                                </p> *@
                                        <p data-placement="top" data-toggle="tooltip" title="Edit">
                                            <a asp-action="Edit" asp-route-id=@item.VoucherId class="btn btn-primary btn-xs">
                                                <span class="glyphicon glyphicon-pencil"></span>
                                            </a>
                                        </p>
                                    </td>
                                    <td>
                                        @* <p data-placement="top" data-toggle="tooltip" title="Delete">
                                <a asp-action="Delete" asp-route-id=@item.VoucherId class="btn btn-danger btn-xs"
                                data-title="Delete" data-toggle="modal" data-target="#delete"><span
                                class="glyphicon glyphicon-trash"></span>
                                </a>
                                </p> *@
                                        <p data-placement="top" data-toggle="tooltip" title="Delete">
                                            <a asp-action="Delete" asp-route-id=@item.VoucherId class="btn btn-danger btn-xs">
                                                <span class="glyphicon glyphicon-trash"></span>
                                            </a>
                                        </p>
                                    </td>
                                </tr>
                            }

                        }

                    </tbody>
                    <tfoot>
                        <tr>
                            <th>ID</th>
                            <th>PromotionCode</th>
                            <th>PromotionName</th>
                            <th>DiscountAmount</th>
                            <th>MaxValue</th>
                            <th>MinValue</th>
                            <th>Quantity</th>
                            <th>Used Time</th>
                            <th>UsageStatus</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </tfoot>
                </table>

                
                <div aria-label="Page navigation example">
                        <ul class="pagination">
                            <pager class="pagination"  options="@PagedListRenderOptions.Bootstrap4PageNumbersPlusPrevAndNext" list="@Model" asp-area="" asp-controller="Voucher" asp-action="Index" />
                        </ul>
                    </div>


            </div>
        </div>
    </div>



    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
        <script>
            $(document).ready(function () {
                $('#datatable').dataTable();

                $("[data-toggle=tooltip]").tooltip();

            });

            

        </script>
    }
</body>

</html>